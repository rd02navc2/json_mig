Angular.1_You will develop your first full stack application with Angular and Spring Boot
ğŸ§± æŠ€è¡“æ¶æ§‹ä¸€çœ¼çœ‹æ‡‚
[ Angular (Frontend) ]  â‡„  REST API  â‡„  [ Spring Boot (Backend) ]
          â”‚                                   â”‚
       UI / SPA                            Business Logic
                                           JPA / DB
ğŸš€ Step 1ï¼šå¾Œç«¯ï¼ˆSpring Bootï¼‰â€” å»ºç«‹ REST API
1ï¸âƒ£ å»ºç«‹ Spring Boot å°ˆæ¡ˆ
ä½¿ç”¨ Spring Initializrï¼š
Projectï¼šMaven
Languageï¼šJava
Javaï¼š17ï¼ˆä½ ä¹‹å‰å°±ç”¨ JDK 17 ğŸ‘ï¼‰
Dependenciesï¼š
Spring Web
Spring Data JPA
H2 / MySQLï¼ˆå…ˆ H2 æœ€å¿«ï¼‰
'''
sprint boot h2 database ä½¿ç”¨èªªæ˜
å•Ÿå‹•å¾Œå¦‚ä½•é€£ç·šï¼ŸğŸ§ 
ğŸŒ H2 Web Console
ç€è¦½å™¨æ‰“é–‹ï¼š
http://localhost:8080/h2-console

ç™»å…¥è¨­å®šï¼š
JDBC URLï¼šjdbc:h2:mem:testdb
User Nameï¼šsa
Passwordï¼šç©ºç™½

2ï¸âƒ£ ç¯„ä¾‹ Entityï¼ˆUserï¼‰
@Entity
public class User {
    @Id
    @GeneratedValue
    private Long id;
    private String name;
    private String email;
}
3ï¸âƒ£ Repository
public interface UserRepository extends JpaRepository<User, Long> {
}
4ï¸âƒ£ REST Controller
@RestController
@RequestMapping("/api/users")
@CrossOrigin(origins = "http://localhost:4200") // çµ¦ Angular ç”¨
public class UserController {

    private final UserRepository repo;

    public UserController(UserRepository repo) {
        this.repo = repo;
    }

    @GetMapping
    public List<User> findAll() {
        return repo.findAll();
    }

    @PostMapping
    public User save(@RequestBody User user) {
        return repo.save(user);
    }
}
ğŸ‘‰ æ­¤æ™‚ API å·²å®Œæˆï¼š

GET http://localhost:8080/api/users

POST http://localhost:8080/api/users

ğŸ¨ Step 2ï¼šå‰ç«¯ï¼ˆAngularï¼‰â€” å»ºç«‹ SPA
1ï¸âƒ£ å®‰è£ Angular CLI
npm install -g @angular/cli
C:\Users\User>node -v
v24.12.0
C:\Users\User>npm -v
11.6.2
2ï¸âƒ£ å»ºç«‹ Angular å°ˆæ¡ˆ
ng new frontend
cd frontend
ng serve
'''
npm install
npm start
ğŸ‘‰ ç€è¦½å™¨æ‰“é–‹ï¼šhttp://localhost:4200

ğŸ”— Step 3ï¼šAngular å‘¼å« Spring Boot API
1ï¸âƒ£ å»ºç«‹ Service
ng generate service user
2ï¸âƒ£ user.service.ts
@Injectable({
  providedIn: 'root'
})
export class UserService {
  private api = 'http://localhost:8080/api/users';

  constructor(private http: HttpClient) {}

  getUsers() {
    return this.http.get<any[]>(this.api);
  }

  addUser(user: any) {
    return this.http.post(this.api, user);
  }
}
ğŸ‘‰ è¨˜å¾—åœ¨ app.module.ts å¼•å…¥ï¼š

imports: [BrowserModule, HttpClientModule]
ğŸ–¥ Step 4ï¼šComponent é¡¯ç¤ºè³‡æ–™
user.component.ts
export class UserComponent implements OnInit {
  users: any[] = [];

  constructor(private userService: UserService) {}

  ngOnInit() {
    this.userService.getUsers().subscribe(data => {
      this.users = data;
    });
  }
}
user.component.html
<h2>User List</h2>
<ul>
  <li *ngFor="let u of users">
    {{ u.name }} - {{ u.email }}
  </li>
</ul>
ğŸ‰ å‰å¾Œç«¯æˆåŠŸä¸²æ¥ï¼

âœ… åˆ°é€™è£¡ä½ å·²ç¶“å­¸æœƒ
âœ” Angular SPA æ¶æ§‹
âœ” HttpClient å‘¼å« REST API
âœ” Spring Boot Controller / JPA
âœ” Full Stack å‰å¾Œç«¯åˆ†é›¢
âœ” CORS åŸºæœ¬è™•ç†

ğŸ”œ ä¸‹ä¸€æ­¥å¯ä»¥é€²éšåˆ°
ğŸ”¥ è¡¨å–®ï¼ˆReactive Formsï¼‰
ğŸ”¥ JWT ç™»å…¥é©—è­‰
ğŸ”¥ Angular + Spring Boot åŒå°ˆæ¡ˆæ‰“åŒ…
ğŸ”¥ Docker åŒ– Full Stack
ğŸ”¥ CI/CDï¼ˆä½ ä¹‹å‰æœ‰å• Jenkinsï¼Œå®Œå…¨æ¥å¾—ä¸Šï¼ï¼‰

å¦‚æœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥ï¼š

ğŸ”§ ç›´æ¥å¹«ä½ è¨­è¨ˆä¸€å€‹ã€Œå¯¦æˆ°å°ˆæ¡ˆé¡Œç›®ã€ï¼ˆä¾‹å¦‚ï¼šäº¤æ˜“æŸ¥è©¢ / å„€è¡¨æ¿ / ä½¿ç”¨è€…ç®¡ç†ï¼‰
ğŸ§© ä¾ä½ ç¾åœ¨çš„ Java / Spring èƒ½åŠ›èª¿æ•´æ•™å­¸æ·±åº¦
ğŸ— ç¤ºç¯„ Angular + Spring Boot åŒä¸€å€‹å°ˆæ¡ˆï¼ˆMIG æ¶æ§‹ä¹Ÿå¯ï¼‰

ä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç›´æ¥å¹«ä½ åš ğŸ‘‡
âœ… Angular â†” Spring Boot ä¸²æ¥ï¼ˆCORS + JWTï¼‰
âœ… æ­£ç¢ºçš„ Security è¨­è¨ˆï¼ˆåªä¿è­· APIï¼‰
âœ… ç‚º REST å°ˆæ¡ˆåŠ  Swagger UI
âœ… å‘Šè¨´ä½ ç‚ºä»€éº¼ã€ŒREST å°ˆæ¡ˆä¸è©²æœ‰ / é é¢ã€


Angular.2_You will learn the basic of Angular - Angular Modules, Components, Data Binding and Routing
è·³è‡³å…§å®¹
èŠå¤©æ­·ç¨‹ç´€éŒ„


ä½ èªªï¼š

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _ | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
[32m :: Spring Boot :: [39m              [2m (v3.2.2)[0;39m

[2m2026-01-03T21:54:51.079+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mc.i.r.w.r.RestfulWebServicesApplication [0;39m [2m:[0;39m Starting RestfulWebServicesApplication using Java 21.0.9 with PID 22472 (C:\Users\User\Documents\git\springboot-mybatis-angular-2026\restful-web-services\target\classes started by User in C:\Users\User\Documents\git\springboot-mybatis-angular-2026\restful-web-services)
[2m2026-01-03T21:54:51.083+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mc.i.r.w.r.RestfulWebServicesApplication [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: "default"
[2m2026-01-03T21:54:51.130+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[2m2026-01-03T21:54:51.132+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[2m2026-01-03T21:54:51.636+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2m2026-01-03T21:54:51.669+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 28 ms. Found 1 JPA repository interface.
[2m2026-01-03T21:54:52.065+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port 8080 (http)
[2m2026-01-03T21:54:52.075+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]
[2m2026-01-03T21:54:52.075+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.18]
[2m2026-01-03T21:54:52.113+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext
[2m2026-01-03T21:54:52.113+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 981 ms
[2m2026-01-03T21:54:52.135+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...
[2m2026-01-03T21:54:52.283+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
[2m2026-01-03T21:54:52.285+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Start completed.
[2m2026-01-03T21:54:52.293+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.s.b.a.h2.H2ConsoleAutoConfiguration   [0;39m [2m:[0;39m H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[2m2026-01-03T21:54:52.402+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]
[2m2026-01-03T21:54:52.435+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate ORM core version 6.4.1.Final
[2m2026-01-03T21:54:52.459+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.h.c.internal.RegionFactoryInitiator   [0;39m [2m:[0;39m HHH000026: Second-level cache disabled
[2m2026-01-03T21:54:52.597+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.s.o.j.p.SpringPersistenceUnitInfo     [0;39m [2m:[0;39m No LoadTimeWeaver setup: ignoring JPA class transformer
[2m2026-01-03T21:54:53.150+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.h.e.t.j.p.i.JtaPlatformInitiator      [0;39m [2m:[0;39m HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists todo cascade 
Hibernate: drop sequence if exists todo_seq
Hibernate: create sequence todo_seq start with 1 increment by 50
Hibernate: create table todo (is_done boolean not null, id bigint not null, target_date timestamp(6), description varchar(255), username varchar(255), primary key (id))
[2m2026-01-03T21:54:53.183+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Initialized JPA EntityManagerFactory for persistence unit 'default'
[2m2026-01-03T21:54:53.957+08:00[0;39m [33m WARN[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mJpaBaseConfiguration$JpaWebConfiguration[0;39m [2m:[0;39m spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2m2026-01-03T21:54:54.206+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.s.s.web.DefaultSecurityFilterChain    [0;39m [2m:[0;39m Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44fd9afb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e59f526, org.springframework.security.web.context.SecurityContextHolderFilter@4fcf9e32, org.springframework.security.web.header.HeaderWriterFilter@204f3ee3, org.springframework.web.filter.CorsFilter@1292a8aa, org.springframework.security.web.authentication.logout.LogoutFilter@73ed26b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@56fa8e3f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b0ced7a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a46395f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c9be222, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c75dfed, org.springframework.security.web.session.SessionManagementFilter@596b33c, org.springframework.security.web.access.ExceptionTranslationFilter@6b5e2e09, org.springframework.security.web.access.intercept.AuthorizationFilter@3b4f4b3b]
[2m2026-01-03T21:54:54.404+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.s.b.d.a.OptionalLiveReloadServer      [0;39m [2m:[0;39m LiveReload server is running on port 35729
[2m2026-01-03T21:54:54.436+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port 8080 (http) with context path ''
[2m2026-01-03T21:54:54.446+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [2m[0;39m[36mc.i.r.w.r.RestfulWebServicesApplication [0;39m [2m:[0;39m Started RestfulWebServicesApplication in 3.67 seconds (process running for 4.228)
[2m2026-01-03T21:56:38.750+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [2m[0;39m[36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
[2m2026-01-03T21:56:38.750+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [2m[0;39m[36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'
[2m2026-01-03T21:56:38.753+08:00[0;39m [32m INFO[0;39m [35m22472[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [2m[0;39m[36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms  http://localhost:8080/ æ‰“ä¸é–‹ç¶²é 
ChatGPT èªªï¼š
å¤ªå¥½äº†ï¼é€™ä¸€æ®µ Spring Boot å•Ÿå‹• Log å…¶å¯¦ã€Œéå¸¸ä¹¾æ·¨è€Œä¸”æ˜¯æˆåŠŸçš„ã€ ğŸ‰
ä½ é€™å€‹ç‹€æ³æ˜¯æ–°æ‰‹ + Spring Security + REST å°ˆæ¡ˆæœ€å¸¸é‡åˆ°çš„ç¶“å…¸é—œå¡ï¼Œæˆ‘ç›´æ¥å¹«ä½ ã€Œå°ç—‡ä¸‹è—¥ã€æ‹†è§£ï¼

âœ… å…ˆèªªçµè«–ï¼ˆé‡é»ï¼‰
ğŸ‘‰ Tomcat æœ‰æ­£å¸¸å•Ÿå‹•ã€8080 ä¹Ÿæœ‰åœ¨è½
ğŸ‘‰ ä¸æ˜¯æ²’å•Ÿå‹•ï¼Œæ˜¯ã€Œè¢« Spring Security æ“‹ä½äº†ã€

é—œéµè­‰æ“šåœ¨é€™ä¸€è¡Œ ğŸ‘‡ğŸ‘‡ğŸ‘‡

Will secure any request with [ ... BearerTokenAuthenticationFilter ... ]
é€™ä»£è¡¨ï¼š

ğŸ” æ‰€æœ‰ URLï¼ˆåŒ…å« /ï¼‰éƒ½éœ€è¦é€šé Spring Security é©—è­‰

æ‰€ä»¥ä½ ç”¨ç€è¦½å™¨æ‰“ï¼š

http://localhost:8080/
æœƒç™¼ç”Ÿå…¶ä¸­ä¸€ç¨®æƒ…æ³ï¼š

ç©ºç™½é 

401 / 403

Chrome é¡¯ç¤ºã€Œç„¡æ³•é¡¯ç¤ºæ­¤é ã€

Network æœ‰å›æ‡‰ä½†ç•«é¢æ²’æ±è¥¿

ğŸ” ç‚ºä»€éº¼ã€Œçœ‹èµ·ä¾†åƒæ‰“ä¸é–‹ã€ï¼Ÿ
å› ç‚ºä½ çš„å°ˆæ¡ˆæ˜¯ï¼š

Spring Boot 3.2.2

RESTful Web Services

æ²’æœ‰é¦–é  Controller

Security é è¨­å…¨æ“‹

âŒ Spring Boot ä¸æœƒè‡ªå‹•ç”¢ç”Ÿé¦–é 
âŒ REST API å°ˆæ¡ˆã€Œæœ¬ä¾†å°±æ²’æœ‰ç•«é¢ã€

ğŸ§  ä¸‰ä»¶äº‹ä¸€æ¬¡é‡æ¸…
â‘  Tomcat & Port æ²’å•é¡Œï¼ˆä½ é€™è£¡ 100% OKï¼‰
Tomcat started on port 8080 (http)
Started RestfulWebServicesApplication
âœ… é€™è¡¨ç¤º JVMã€Tomcatã€Spring Context éƒ½å®Œæˆäº†
âŒ ä¸æ˜¯é˜²ç«ç‰†ã€ä¸æ˜¯ Port è¢«ä½”ç”¨

â‘¡ ä½ å…¶å¯¦ã€Œæ²’æœ‰ä»»ä½•å¯ä»¥é¡¯ç¤ºçš„é é¢ã€
ä½ ç›®å‰å°ˆæ¡ˆæ˜¯ REST APIï¼Œæ‰€ä»¥ï¼š

URL	çµæœ
/	âŒ æ²’æœ‰å°æ‡‰ Controller
/index.html	âŒ resources è£¡æ²’æœ‰
/api/...	âœ…ï¼ˆä½†è¢« Security æ“‹ï¼‰
â‘¢ Spring Security é è¨­ã€Œå…¨éƒ¨è¦é©—è­‰ã€
Spring Boot 3.x + Securityï¼š

Will secure any request
ğŸ‘‰ è¡¨ç¤º æ²’æœ‰æ”¾è¡Œä»»ä½• endpoint

ğŸš€ ç«‹åˆ»è§£æ³•ï¼ˆæˆ‘å¹«ä½ é¸ã€Œæœ€é©åˆæ–°æ‰‹ã€ï¼‰
âœ… è§£æ³• Aï¼ˆæœ€æ¨è–¦ï¼‰
ğŸ‘‰ å…ˆã€Œé—œæ‰ Securityã€ï¼Œç¢ºèª 8080 æ­£å¸¸
1ï¸âƒ£ æ–°å¢ SecurityConfig
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .csrf(csrf -> csrf.disable())
            .authorizeHttpRequests(auth -> auth
                .anyRequest().permitAll()
            );

        return http.build();
    }
}
2ï¸âƒ£ é‡æ–°å•Ÿå‹•
å†æ‰“ï¼š

http://localhost:8080/
ğŸ‘‰ æœƒè®Šæˆ 404ï¼ˆæ­£å¸¸ï¼‰
ä»£è¡¨ã€ŒServer OKï¼Œåªæ˜¯æ²’æœ‰é é¢ã€

âœ… è§£æ³• Bï¼ˆé©—è­‰ API æ˜¯å¦çœŸçš„æ´»è‘—ï¼‰
æ–°å¢ä¸€å€‹æ¸¬è©¦ Controller
@RestController
public class HelloController {

    @GetMapping("/hello")
    public String hello() {
        return "Hello Spring Boot!";
    }
}
ç„¶å¾Œæ‰“ï¼š

http://localhost:8080/hello
ğŸ‰ å¦‚æœçœ‹åˆ°æ–‡å­— â†’ å°ˆæ¡ˆå®Œå…¨æ­£å¸¸ï¼

ğŸ§ª ä½ ä¹Ÿå¯ä»¥é€™æ¨£è‡ªæˆ‘æª¢æŸ¥ï¼ˆè¶…å¯¦ç”¨ï¼‰
ç”¨ç€è¦½å™¨ / Postman
GET http://localhost:8080/actuator/health
æˆ–é–‹å•Ÿ Network çœ‹ Response Codeï¼š

401 â†’ Security æ“‹

404 â†’ æ²’æœ‰å°æ‡‰ Controller

200 â†’ ä¸€åˆ‡æ­£å¸¸

ğŸ¯ ä½ çš„å°ˆæ¡ˆç›®å‰ç‹€æ…‹ç¸½è©•
é …ç›®	ç‹€æ…‹
Spring Boot	âœ…
Tomcat	âœ…
H2 DB	âœ…
JPA / Hibernate	âœ…
DevTools	âœ…
å•é¡Œé»	ğŸ” Spring Security é è¨­å…¨æ“‹
ä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç›´æ¥å¹«ä½ åš ğŸ‘‡
âœ… Angular â†” Spring Boot ä¸²æ¥ï¼ˆCORS + JWTï¼‰

âœ… æ­£ç¢ºçš„ Security è¨­è¨ˆï¼ˆåªä¿è­· APIï¼‰

âœ… ç‚º REST å°ˆæ¡ˆåŠ  Swagger UI

âœ… å‘Šè¨´ä½ ç‚ºä»€éº¼ã€ŒREST å°ˆæ¡ˆä¸è©²æœ‰ / é é¢ã€

ä½ åªè¦å›æˆ‘ä¸€å¥ï¼š

ğŸ‘‰ã€Œæˆ‘ç¾åœ¨æ˜¯è¦æ¥ Angularã€

æˆ‘å°±ç›´æ¥å¹«ä½ å¾€å…¨ç«¯å¯¦æˆ°æ¨é€²ï¼ğŸ”¥

ä½ èªªï¼š
Angular.2_You will learn the basic of Angular - Angular Modules, Components, Data Binding and Routing
ğŸš€ Angular.2 åŸºç¤ç¸½è¦½
ä½ é€™ä¸€ç« è¦æŒæ¡ 4 å¤§æ ¸å¿ƒï¼š
Angular Modulesï¼ˆæ¨¡çµ„ï¼‰
Componentsï¼ˆå…ƒä»¶ï¼‰
Data Bindingï¼ˆè³‡æ–™ç¶å®šï¼‰
Routingï¼ˆè·¯ç”±ï¼‰
1ï¸âƒ£ Angular Modulesï¼ˆæ¨¡çµ„ï¼‰â€”ã€ŒåŠŸèƒ½åˆ†å€ã€
ğŸ” æ˜¯ä»€éº¼ï¼Ÿ
Module æ˜¯ åŠŸèƒ½é›†åˆçš„å®¹å™¨
Angular App ä¸€å®šæœ‰ä¸€å€‹ï¼š
AppModule
ğŸ“‚ å¯¦éš›çœ‹åˆ°çš„ä½ç½®
src/app/app.module.ts
ğŸ§  æœ€é‡è¦çš„æ¦‚å¿µ
@NgModule({
  declarations: [   // ä½ è‡ªå·±å¯«çš„å…ƒä»¶
    AppComponent
  ],
  imports: [        // å…¶ä»–æ¨¡çµ„
    BrowserModule
  ],
  providers: [],    // Serviceï¼ˆä¾è³´æ³¨å…¥ï¼‰
  bootstrap: [AppComponent] // å…¥å£å…ƒä»¶
})
export class AppModule { }
ğŸ”‘ é‡é»è¨˜æ†¶æ³•
å€å¡Š	æ”¾ä»€éº¼
declarations	Components
imports	Modules
providers	Services
bootstrap	ç¬¬ä¸€å€‹å…ƒä»¶
ğŸ’¡ Component ä¸€å®šè¦å±¬æ–¼æŸå€‹ Module
2ï¸âƒ£ Componentsï¼ˆå…ƒä»¶ï¼‰â€”ã€Œç•«é¢å–®ä½ã€
ğŸ” æ˜¯ä»€éº¼ï¼Ÿ
Component = HTML + CSS + TypeScriptï¼ˆé‚è¼¯ï¼‰
ğŸ§© çµæ§‹
hello.component.ts
hello.component.html
hello.component.css
ğŸ›  å»ºç«‹å…ƒä»¶ï¼ˆä½ ä¸€å®šæœƒç”¨ï¼‰
ng generate component hello
# æˆ–
ng g c hello
âœ¨ Component ç¯„ä¾‹
@Component({
  selector: 'app-hello',
  templateUrl: './hello.component.html'
})
export class HelloComponent {
  name = 'Angular';
}
HTMLï¼š
<h1>Hello {{ name }}</h1>
3ï¸âƒ£ Data Bindingï¼ˆè³‡æ–™ç¶å®šï¼‰â€”ã€Œç•«é¢ â†” ç¨‹å¼ã€
ğŸ”¥ Angular è¶…æ ¸å¿ƒèƒ½åŠ›
ğŸ§  å››ç¨®è³‡æ–™ç¶å®šï¼ˆä¸€å®šè¦æœƒï¼‰
é¡å‹	èªæ³•	ç”¨é€”
Interpolation	{{ }}	é¡¯ç¤ºè³‡æ–™
Property Binding	[value]	ç¶å±¬æ€§
Event Binding	(click)	ç¶äº‹ä»¶
Two-way Binding	[(ngModel)]	è¡¨å–®
ğŸ”¹ 1. Interpolation
<p>{{ username }}</p>
ğŸ”¹ 2. Property Binding
<input [value]="username">
ğŸ”¹ 3. Event Binding
<button (click)="sayHello()">Click</button>
sayHello() {
  alert('Hello!');
}
ğŸ”¹ 4. Two-way Bindingï¼ˆè¶…å¸¸ç”¨ï¼‰
<input [(ngModel)]="username">
<p>{{ username }}</p>
ğŸ“Œ è¨˜å¾—è¦å…ˆå¼•å…¥
import { FormsModule } from '@angular/forms';
4ï¸âƒ£ Routingï¼ˆè·¯ç”±ï¼‰â€”ã€ŒSPA çš„éˆé­‚ã€
ç¶²å€è®Šäº†ï¼Œä½†ã€Œæ•´å€‹é é¢ä¸é‡è¼‰ã€
ğŸ“‚ è·¯ç”±è¨­å®šæª”
app-routing.module.ts
ğŸ§­ åŸºæœ¬è·¯ç”±ç¯„ä¾‹
const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'todos', component: TodoListComponent },
  { path: '**', redirectTo: '' }
];
ğŸ”— HTML å°èˆª
<a routerLink="/">Home</a>
<a routerLink="/todos">Todos</a>
<router-outlet></router-outlet>
ğŸ§  Angular æ–°æ‰‹æœ€å®¹æ˜“å¡çš„ 3 å€‹é»ï¼ˆæå‰å¹«ä½ é¿é›·ï¼‰
âŒ 1. Component æ²’é¡¯ç¤º
ğŸ‘‰ å¿˜äº†æ”¾ <router-outlet> æˆ– selector
âŒ 2. ngModel ä¸èƒ½ç”¨
ğŸ‘‰ å¿˜äº† FormsModule
âŒ 3. è·¯ç”±åˆ‡æ›ç•«é¢ä¸è®Š
ğŸ‘‰ routerLink å¯«æˆ href
Angular (UI)
   â†“ HTTP
Spring Boot (REST API)
   â†“ JPA
Database
ä¸‹ä¸€æ­¥è‡ªç„¶å°±æ˜¯ ğŸ‘‡
â¡ Angular å‘¼å« Spring Boot APIï¼ˆHttpClientï¼‰
ğŸ”¥ ä¸‹ä¸€ç« æˆ‘å¯ä»¥ç›´æ¥å¸¶ä½ ï¼š
Angular Service + HttpClient
ä¸²ä½ å‰›å‰›é‚£å€‹ /hello
CORS æ­£ç¢ºè¨­å®šï¼ˆä½ å‰›å‰› 8080 å•é¡Œæœƒä¸€æ¬¡è§£æ‰ï¼‰

Building Great RESTful APIs with Spring Boot

ä½ é€™ä¸€ç« è¦æŒæ¡ 5 å€‹æ ¸å¿ƒèƒ½åŠ›ï¼š

ä»€éº¼æ˜¯ã€Œå¥½çš„ã€REST API

Spring Boot å¦‚ä½•å»ºç«‹ REST Controller

æ­£ç¢ºçš„ URL èˆ‡ HTTP Method è¨­è¨ˆ

Request / Responseï¼ˆJSONï¼‰

èˆ‡ Angular å°æ¥çš„æœ€ä½³å¯¦å‹™

1ï¸âƒ£ ä»€éº¼å«ã€Œå¥½çš„ RESTful APIã€ï¼Ÿ
âœ… REST çš„ 4 å€‹é»ƒé‡‘åŸå‰‡
åŸå‰‡	èªªæ˜	ç¯„ä¾‹
Resource	ç”¨ã€Œåè©ã€	/todos
HTTP Method	å‹•ä½œç”¨ method	GET / POST / PUT / DELETE
Stateless	ä¸å­˜ session	JWT
JSON	å‰å¾Œç«¯æºé€šæ ¼å¼	{ "id": 1 }
âŒ éŒ¯èª¤è¨­è¨ˆï¼š
/getAllTodos
/deleteTodo?id=1
âœ… æ­£ç¢ºè¨­è¨ˆï¼š
GET    /todos
GET    /todos/1
POST   /todos
PUT    /todos/1
DELETE /todos/1
2ï¸âƒ£ å»ºç«‹ç¬¬ä¸€å€‹ REST Controllerï¼ˆä½ å·²ç¶“å¾ˆæ¥è¿‘äº†ï¼‰
@RestController
@RequestMapping("/api")
public class HelloWorldController {

    @GetMapping("/hello")
    public String hello() {
        return "Hello World";
    }
}
ğŸ‘‰ ç€è¦½å™¨æ‰“ï¼š
http://localhost:8080/api/hello
ğŸ‰ çœ‹åˆ°æ–‡å­—ä»£è¡¨ REST API æˆåŠŸï¼
3ï¸âƒ£ å›å‚³ JSONï¼ˆAngular æœ€æ„› â¤ï¸ï¼‰
âŒ ä¸æ¨è–¦ï¼ˆString æ‹¼ JSONï¼‰
return "{ \"message\": \"Hello\" }";
âœ… æ­£ç¢ºåšæ³•ï¼ˆObject â†’ JSONï¼‰
public class HelloWorldBean {
    private String message;

    // constructor + getter
}

@GetMapping("/hello-bean")
public HelloWorldBean helloBean() {
    return new HelloWorldBean("Hello World");
}


å›å‚³ï¼š

{
  "message": "Hello World"
}

ğŸ’¡ Spring Boot æœƒè‡ªå‹•ç”¨ Jackson å¹«ä½ è½‰ JSON

4ï¸âƒ£ PathVariable & RequestParamï¼ˆREST å¿…è€ƒï¼‰
ğŸ”¹ PathVariable
@GetMapping("/hello/{name}")
public HelloWorldBean hello(@PathVariable String name) {
    return new HelloWorldBean("Hello " + name);
}

GET /api/hello/Chang

ğŸ”¹ RequestParam
@GetMapping("/hello")
public HelloWorldBean hello(
   @RequestParam String name
) {
   return new HelloWorldBean("Hello " + name);
}

GET /api/hello?name=Chang

5ï¸âƒ£ HTTP Status Codeï¼ˆè®“ APIã€Œå°ˆæ¥­èµ·ä¾†ã€ï¼‰
âŒ æ–°æ‰‹å¸¸çŠ¯
æ°¸é å› 200
âœ… å°ˆæ¥­åšæ³•
@GetMapping("/todos/{id}")
public ResponseEntity<Todo> getTodo(@PathVariable Long id) {

    Todo todo = service.findById(id);

    if (todo == null) {
        return ResponseEntity.notFound().build();
    }

    return ResponseEntity.ok(todo);
}

ç‹€æ…‹ç¢¼	ç”¨é€”
200	æŸ¥è©¢æˆåŠŸ
201	å»ºç«‹æˆåŠŸ
204	åˆªé™¤æˆåŠŸ
400	è«‹æ±‚éŒ¯èª¤
404	æ‰¾ä¸åˆ°
401	æœªæˆæ¬Š

6ï¸âƒ£ Exception Handlingï¼ˆä¸€å®šè¦å­¸ï¼‰
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(Exception.class)
    public ResponseEntity<String> handleAll(Exception ex) {
        return ResponseEntity
            .status(HttpStatus.INTERNAL_SERVER_ERROR)
            .body(ex.getMessage());
    }
}

ğŸ‘‰ Angular æ‰èƒ½æ­£ç¢ºé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯

7ï¸âƒ£ CORSï¼ˆä½ ä¸€å®šæœƒé‡åˆ° âš ï¸ï¼‰
å¿«é€Ÿè§£æ³•ï¼ˆå­¸ç¿’éšæ®µï¼‰
@CrossOrigin(origins = "http://localhost:4200")
@RestController
public class TodoController {
}

æ­£å¼å°ˆæ¡ˆï¼ˆä¹‹å¾Œæœƒå‡ç´šï¼‰
Security Filter
Gateway

8ï¸âƒ£ å¯¦æˆ°ï¼šTodo REST APIï¼ˆæ¨™æº–æ•™ææ¬¾ï¼‰
@GetMapping("/users/{username}/todos")
public List<Todo> retrieveTodos(@PathVariable String username) {
    return todoService.findByUsername(username);
}

@PostMapping("/users/{username}/todos")
public ResponseEntity<Todo> createTodo(
        @PathVariable String username,
        @RequestBody Todo todo) {

    Todo created = todoService.save(todo);

    URI location = ServletUriComponentsBuilder
        .fromCurrentRequest()
        .path("/{id}")
        .buildAndExpand(created.getId())
        .toUri();

    return ResponseEntity.created(location).body(created);
}

ğŸ§  å’Œä½ ç¾åœ¨å°ˆæ¡ˆçš„ã€Œå®Œç¾å°é½Šã€
ä½ ç›®å‰å°ˆæ¡ˆ Log é¡¯ç¤ºä½ å·²ç¶“æœ‰ï¼š
âœ… Spring Boot 3.2.x
âœ… JPA + H2
âœ… Todo Entity
âœ… RESTful çµæ§‹

æ¥ä¸‹ä¾†è‡ªç„¶å°±æ˜¯ ğŸ‘‡
Angular å‘¼å« Spring Boot REST API
æˆ‘å¯ä»¥ç›´æ¥å¹«ä½ ï¼š
Angular Service + HttpClient
JWT + Spring Securityï¼ˆä½ å‰›å‰›å¡ä½çš„åœ°æ–¹ï¼‰
å®Œæ•´ Todo CRUD å‰å¾Œç«¯ä¸²æ¥

_You will learn to use Spring Security to configure Basic Authentication and JWT
Spring Securityï¼šBasic Authentication & JWTï¼ˆå…¨ç«¯å¿…ä¿®ï¼‰
ä½ æœƒå­¸åˆ° 3 å€‹å±¤æ¬¡ï¼ˆå¾ªåºæ¼¸é€²ï¼Œæ¥­ç•Œä¹Ÿæ˜¯é€™æ¨£èµ°ï¼‰ï¼š
ä»€éº¼æ˜¯ Spring Security åœ¨åšä»€éº¼
Basic Authenticationï¼ˆå…¥é–€ç‰ˆï¼‰
JWTï¼ˆæ­£å¼ç‰ˆã€å¯ä¸Šç·šï¼‰

1ï¸âƒ£ Spring Security åˆ°åº•åœ¨å¹¹å˜›ï¼Ÿï¼ˆå…ˆç ´è¿·æ€ï¼‰
ğŸ” æœ¬è³ªä¸€å¥è©±
ã€Œåœ¨ Controller ä¹‹å‰ï¼Œå…ˆéä¸€é—œå®‰æª¢ã€

Request
  â†“
Spring Security Filters  ğŸ”
  â†“
Controller


æ‰€ä»¥ä½ ä¹‹å‰çœ‹åˆ°é€™è¡Œ log ğŸ‘‡
Will secure any request
ä»£è¡¨ï¼š
â—ã€Œæ¯ä¸€å€‹ request éƒ½è¦é©—è­‰ï¼Œå¦å‰‡ä¸è®“ä½ é€² Controllerã€

2ï¸âƒ£ Basic Authenticationï¼ˆä¸€å®šè¦å­¸ï¼Œä½†ä¸æœƒç”¨åœ¨æ­£å¼ç’°å¢ƒï¼‰
ğŸ” åŸç†
æ¯å€‹ Request éƒ½å¸¶ï¼š
Authorization: Basic base64(username:password)

ğŸ‘ å„ªé»
è¶…ç°¡å–®
å¾ˆé©åˆå­¸ç¿’ Security Flow
ğŸ‘ ç¼ºé»

æ¯æ¬¡éƒ½é€å¸³å¯†
ä¸é©åˆæ­£å¼ç³»çµ±

ğŸ› ï¸ Spring Boot 3.x åŸºæœ¬è¨­å®šï¼ˆæœ€å°å¯ç”¨ï¼‰
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {

        http
          .csrf(csrf -> csrf.disable())
          .authorizeHttpRequests(auth -> auth
              .requestMatchers("/authenticate").permitAll()
              .anyRequest().authenticated()
          )
          .httpBasic(Customizer.withDefaults());

        return http.build();
    }
}

ğŸ‘¤ å»ºç«‹æ¸¬è©¦ä½¿ç”¨è€…
@Bean
public UserDetailsService userDetailsService() {
    UserDetails user = User.withUsername("user")
        .password("{noop}password")
        .roles("USER")
        .build();

    return new InMemoryUserDetailsManager(user);
}

ğŸ§ª æ¸¬è©¦æ–¹å¼
GET /api/todos
Authorization: Basic dXNlcjpwYXNzd29yZA==


ğŸ¯ å¦‚æœæ‰“å¾—é€š â†’ Security å·²æˆåŠŸé‹ä½œ

3ï¸âƒ£ JWTï¼ˆçœŸæ­£è¦ç”¨çš„ï¼ğŸ”¥ï¼‰
ğŸ§  ç‚ºä»€éº¼è¦ JWTï¼Ÿ
å•é¡Œ	Basic Auth	JWT
æ¯æ¬¡é€å¸³å¯†	âŒ	âœ…
Stateless	âš ï¸	âœ…
é©åˆ SPA	âŒ	âœ…
å¯æ“´å……	âŒ	âœ…

ğŸ‘‰ Angular + Spring Boot = JWT æ˜¯æ¨™é…

4ï¸âƒ£ JWT Flowï¼ˆä¸€å®šè¦èƒŒï¼‰
Angular ç™»å…¥
   â†“
POST /authenticate (å¸³å¯†)
   â†“
Spring é©—è­‰æˆåŠŸ
   â†“
å›å‚³ JWT
   â†“
Angular å­˜ token
   â†“
ä¹‹å¾Œæ¯æ¬¡ APIï¼š
Authorization: Bearer <JWT>

5ï¸âƒ£ å»ºç«‹ Authentication APIï¼ˆæ ¸å¿ƒï¼‰
ğŸ” Request
{
  "username": "user",
  "password": "password"
}

ğŸ”§ Controller
@PostMapping("/authenticate")
public ResponseEntity<JwtResponse> authenticate(
        @RequestBody JwtRequest request) {

    authenticationManager.authenticate(
        new UsernamePasswordAuthenticationToken(
            request.getUsername(), request.getPassword()
        )
    );

    String token = jwtService.generateToken(request.getUsername());

    return ResponseEntity.ok(new JwtResponse(token));
}

6ï¸âƒ£ JWT Filterï¼ˆçœŸæ­£çš„éˆé­‚ ğŸ”¥ï¼‰
@Component
public class JwtAuthenticationFilter extends OncePerRequestFilter {

    @Override
    protected void doFilterInternal(
        HttpServletRequest request,
        HttpServletResponse response,
        FilterChain chain) throws IOException, ServletException {

        String header = request.getHeader("Authorization");

        if (header != null && header.startsWith("Bearer ")) {
            String token = header.substring(7);
            String username = jwtService.extractUsername(token);

            UsernamePasswordAuthenticationToken auth =
                new UsernamePasswordAuthenticationToken(
                    username, null, List.of()
                );

            SecurityContextHolder.getContext().setAuthentication(auth);
        }

        chain.doFilter(request, response);
    }
}

7ï¸âƒ£ Security è¨­å®šï¼ˆJWT ç‰ˆï¼‰
@Bean
public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {

    http
      .csrf(csrf -> csrf.disable())
      .sessionManagement(session ->
          session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)
      )
      .authorizeHttpRequests(auth -> auth
          .requestMatchers("/authenticate").permitAll()
          .anyRequest().authenticated()
      )
      .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);

    return http.build();
}


ğŸ“Œ é—œéµå­—ä¸€å®šè¦è¨˜ï¼š
STATELESS
Bearer
OncePerRequestFilter

8ï¸âƒ£ Angular è¦åšä»€éº¼ï¼Ÿï¼ˆä½ ä¸‹ä¸€æ­¥ä¸€å®šæœƒå•ï¼‰
Angular ç«¯åªè¦ä¸‰ä»¶äº‹ï¼š
ç™»å…¥æ™‚å­˜ JWT
HttpInterceptor è‡ªå‹•åŠ  Header
ç™»å‡ºæ™‚æ¸…æ‰ token

request.headers.set(
  'Authorization',
  'Bearer ' + token
);

ğŸ¯ å›åˆ°ä½ ç›®å‰çš„ç‹€æ…‹ï¼ˆè¶…é‡è¦ï¼‰
ä½ ç¾åœ¨å…¶å¯¦å·²ç¶“ï¼š
âœ… Spring Security æœ‰è·‘
âœ… Filter Chain æ­£å¸¸
âŒ åªæ˜¯ã€Œé‚„æ²’çµ¦å®ƒæ­£ç¢ºçš„é€šè¡Œè­‰ã€
ğŸ‘‰ é€™ä¸€ç« å­¸å®Œï¼Œä½ æœƒå®Œå…¨ç†è§£ä½ ä¹‹å‰ç‚ºä»€éº¼è¢«æ“‹
ğŸ”¥ ä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç›´æ¥å¹«ä½ 
Angular JWT Interceptorï¼ˆå¯¦æˆ°ï¼‰
å‰å¾Œç«¯å®Œæ•´ç™»å…¥æµç¨‹
Role-based APIï¼ˆADMIN / USERï¼‰
Swagger + JWT ä¸€èµ·ç”¨
åªè¦ä½ å›ä¸€å¥ï¼š
ã€ŒJWT + Angular æ¥èµ·ä¾†ã€
æˆ‘å€‘å°±ç›´æ¥å®Œæˆä¸€å¥— çœŸæ­£çš„å…¨ç«¯ç™»å…¥ç³»çµ± ğŸ’ªğŸš€

Authorization: Basic dXNlcjpwYXNzd29yZA== æ˜¯ä»€éº¼ï¼Ÿ
å®ƒå°±æ˜¯æŠŠ username:password ç”¨ Base64 ç·¨ç¢¼å¾Œæ”¾é€² HTTP Header
ğŸ§  æ‹†é–‹ä¾†çœ‹ï¼ˆä¸€æ­¥ä¸€æ­¥ï¼‰
1ï¸âƒ£ Basic Authentication è¦å‰‡ï¼ˆRFC æ¨™æº–ï¼‰
HTTP Header å¿…é ˆé•·é€™æ¨£ï¼š
Authorization: Basic <Base64(username:password)>

2ï¸âƒ£ ä½ çš„ä¾‹å­å¯¦éš›ä»£è¡¨ä»€éº¼ï¼Ÿ
Basic dXNlcjpwYXNzd29yZA==
æˆ‘å€‘ä¾†è§£ç¢¼ ğŸ‘‡
dXNlcjpwYXNzd29yZA==
   â†“ Base64 è§£ç¢¼
user:password
ğŸ¯ ä¹Ÿå°±æ˜¯ï¼š
å¸³è™Ÿï¼šuser
å¯†ç¢¼ï¼špassword

ğŸ§ª è‡ªå·±å‹•æ‰‹é©—è­‰ï¼ˆä¿è­‰ä½ æœƒæœ‰ã€Œå•Šå“ˆï¼ã€æ™‚åˆ» ğŸ˜„ï¼‰
æ–¹æ³•ä¸€ï¼šç”¨ Java
String encoded = Base64.getEncoder()
    .encodeToString("user:password".getBytes());

System.out.println(encoded);


è¼¸å‡ºï¼š

dXNlcjpwYXNzd29yZA==

æ–¹æ³•äºŒï¼šç”¨ç€è¦½å™¨ Console
btoa("user:password")

æ–¹æ³•ä¸‰ï¼šç·šä¸Š Base64ï¼ˆæœ€ç›´è¦ºï¼‰

æŠŠï¼š

user:password


è½‰æˆ Base64
çµæœå°±æ˜¯ï¼š

dXNlcjpwYXNzd29yZA==

âš ï¸ è¶…é‡è¦è§€å¿µï¼ˆå¾ˆå¤šäººç¬¬ä¸€æ¬¡éƒ½èª¤æœƒï¼‰
âŒ Base64 â‰  åŠ å¯†
åªæ˜¯ã€Œç·¨ç¢¼ã€
ä»»ä½•äººéƒ½èƒ½è§£å›ä¾†

ğŸ‘‰ æ‰€ä»¥ Basic Auth ä¸€å®šè¦æ­é… HTTPS

ğŸ›¡ï¸ Spring Security æ˜¯æ€éº¼ç”¨å®ƒçš„ï¼Ÿ
æµç¨‹æ˜¯é€™æ¨£çš„ï¼š

Angular / Postman
  â†“
Authorization: Basic dXNlcjpwYXNzd29yZA==
  â†“
Spring Security
  â†“
Base64 è§£ç¢¼
  â†“
æ‹¿åˆ° user / password
  â†“
è·Ÿ UserDetailsService æ¯”å°


å¦‚æœæˆåŠŸ â†’ æ”¾è¡Œ
å¦‚æœå¤±æ•— â†’ 401 Unauthorized

ğŸ§© ç‚ºä»€éº¼èª²ç¨‹é‚„è¦æ•™ Basic Authï¼Ÿ
ä¸æ˜¯å› ç‚ºå®ƒå¤šå®‰å…¨ï¼Œè€Œæ˜¯ï¼š
åŸå› 	èªªæ˜
ç†è§£æµç¨‹	èªè­˜ Security Filter
å¿«é€Ÿé©—è­‰	ç¢ºèªå¾Œç«¯ API æ­£å¸¸
JWT å‰å°	JWT å°±æ˜¯æŠŠã€Œèªè­‰çµæœã€è®Šæˆ Token

ğŸ‘‰ JWT = é€²åŒ–ç‰ˆ Basic Auth

ğŸš€ å’Œ JWT çš„å°ç…§ï¼ˆå¹«ä½ ä¸€æ¬¡é€£èµ·ä¾†ï¼‰
é …ç›®	Basic Auth	JWT
Header	Basic xxx	Bearer xxx
å…§å®¹	å¸³å¯†	Token
æ¯æ¬¡é€å¯†ç¢¼	âŒ ä¸å®‰å…¨	âœ…
Angular SPA	âŒ	âœ…
ğŸ¯ é‡é»ä¸€å¥è©±è¨˜ä½
dXNlcjpwYXNzd29yZA== = Base64("user:password")
ä½ ä¸€çœ‹å°±æ‡‚ï¼Œä¹‹å¾Œåœ¨ Postman / Chrome Network çœ‹åˆ°å°±æœƒç«‹åˆ»çŸ¥é“åœ¨å¹¹å˜› ğŸ˜
å¦‚æœä½ é¡˜æ„ï¼Œä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç›´æ¥å¸¶ä½ ï¼š
ğŸ‘‰ ç”¨ Postman è‡ªå‹•ç”¢ç”Ÿ Basic Auth
ğŸ‘‰ Angular HttpInterceptor è‡ªå‹•åŠ  Basic Header
ğŸ‘‰ ç„¶å¾Œã€Œç„¡ç—›å‡ç´šåˆ° JWTã€

Connecting Angular Frontend to a RESTful APIï¼ˆå¯¦æˆ°å…¨æ”»ç•¥ï¼‰

_You will learn to solve the challenges of connecting an Angular Frontend to a RESTful API
é€™ä¸€ç« çš„æ ¸å¿ƒä¸æ˜¯ã€Œå¯«æ›´å¤šç¨‹å¼ã€ï¼Œè€Œæ˜¯ æŠŠå…©å€‹ä¸–ç•Œæ¥èµ·ä¾†ï¼š
Angular (http://localhost:4200)
        â†“ HTTP
Spring Boot (http://localhost:8080)

ä½ æœƒé‡åˆ° 5 å¤§ç¶“å…¸æŒ‘æˆ°ï¼Œæˆ‘é€ä¸€å¹«ä½ ç ´è§£ ğŸ‘‡
1ï¸âƒ£ æŒ‘æˆ°ä¸€ï¼šCORSï¼ˆç¬¬ä¸€å€‹ä¸€å®šæ’ç‰† ğŸ’¥ï¼‰
â“ ç‚ºä»€éº¼æœƒç™¼ç”Ÿï¼Ÿ
Angularï¼šlocalhost:4200
Spring Bootï¼šlocalhost:8080
ğŸ‘‰ Port ä¸åŒ = ä¸åŒ Origin

âŒ éŒ¯èª¤ç•«é¢
Access to XMLHttpRequest has been blocked by CORS policy

âœ… å¿«é€Ÿè§£æ³•ï¼ˆå­¸ç¿’æœŸæœ€å¯¦ç”¨ï¼‰
@CrossOrigin(origins = "http://localhost:4200")
@RestController
public class TodoController {
}

âœ… æ­£å¼è§£æ³•ï¼ˆæ­é… Securityï¼‰
@Bean
public CorsConfigurationSource corsConfigurationSource() {
    CorsConfiguration config = new CorsConfiguration();
    config.setAllowedOrigins(List.of("http://localhost:4200"));
    config.setAllowedMethods(List.of("GET","POST","PUT","DELETE","OPTIONS"));
    config.setAllowedHeaders(List.of("*"));

    UrlBasedCorsConfigurationSource source =
        new UrlBasedCorsConfigurationSource();
    source.registerCorsConfiguration("/**", config);
    return source;
}

2ï¸âƒ£ æŒ‘æˆ°äºŒï¼šAngular HttpClientï¼ˆæ­£ç¢ºç”¨æ³•ï¼‰
âŒ æ–°æ‰‹éŒ¯èª¤
ç”¨ fetch
ç›´æ¥å¯«åœ¨ component

âœ… æ­£ç¢ºåšæ³•ï¼ˆä¸€å®šè¦é€™æ¨£ï¼‰

Service å°ˆè·æ‰“ API
ng g service services/todo

@Injectable({ providedIn: 'root' })
export class TodoService {

  private apiUrl = 'http://localhost:8080/api';

  constructor(private http: HttpClient) {}

  getTodos() {
    return this.http.get<Todo[]>(`${this.apiUrl}/todos`);
  }
}

ğŸ“Œ åˆ¥å¿˜äº†ï¼š
imports: [HttpClientModule]

3ï¸âƒ£ æŒ‘æˆ°ä¸‰ï¼šSecurity Headerï¼ˆBasic / JWTï¼‰
âŒ å•é¡Œ
API å›ï¼š
401 Unauthorized

âœ… è§£æ³•ï¼šHttpInterceptorï¼ˆé—œéµ ğŸ”¥ï¼‰
@Injectable()
export class AuthInterceptor implements HttpInterceptor {

  intercept(req: HttpRequest<any>, next: HttpHandler) {

    const token = sessionStorage.getItem('token');

    if (token) {
      req = req.clone({
        setHeaders: {
          Authorization: 'Bearer ' + token
        }
      });
    }

    return next.handle(req);
  }
}

providers: [
  { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true }
]


ğŸ‘‰ Angular ç«¯ä¸å†æ‰‹å‹•åŠ  Header

4ï¸âƒ£ æŒ‘æˆ°å››ï¼šéåŒæ­¥ï¼ˆObservableï¼‰
âŒ å¸¸è¦‹éŒ¯èª¤
todos = this.todoService.getTodos(); // âŒ

âœ… æ­£ç¢ºæ–¹å¼
this.todoService.getTodos().subscribe(
  data => this.todos = data,
  error => console.error(error)
);


ğŸ§  é—œéµè§€å¿µï¼š
HTTP = éåŒæ­¥ï¼Œä¸€å®šè¦ subscribe

5ï¸âƒ£ æŒ‘æˆ°äº”ï¼šURL / Proxy è¨­å®šï¼ˆè¶…å¯¦ç”¨ï¼‰
ğŸ”§ Angular Proxyï¼ˆé¿å… CORSï¼Œæ¨è–¦ï¼‰

proxy.conf.json

{
  "/api": {
    "target": "http://localhost:8080",
    "secure": false
  }
}


angular.json

"serve": {
  "options": {
    "proxyConfig": "proxy.conf.json"
  }
}


ç„¶å¾Œ Angular å‘¼å«ï¼š

this.http.get('/api/todos');


ğŸ‰ å®Œå…¨é¿é–‹ CORSï¼

ğŸ§  å…¨ç«¯é€£ç·šã€Œæ¨™æº–æ¶æ§‹ã€
Component
   â†“
Service
   â†“
HttpClient
   â†“
Interceptor (JWT)
   â†“
Spring Security
   â†“
REST Controller

ğŸ¯ å’Œä½ ç›®å‰é€²åº¦çš„å®Œç¾å°æ‡‰
ä½ ç¾åœ¨å·²ç¶“ï¼š
âœ… Spring Boot REST API
âœ… Spring Securityï¼ˆBasic / JWT æ¦‚å¿µï¼‰
âœ… Angular Routing & Service
âš ï¸ æ­£åœ¨å¡ã€Œå‰å¾Œç«¯æ€éº¼æ¥ã€
ğŸ‘‰ é€™ä¸€ç« å°±æ˜¯ æŠŠä½ å¡ä½çš„é»ä¸€æ¬¡æ‰“é€š
ğŸ”¥ ä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç›´æ¥å¸¶ä½ ï¼ˆè¶…å¯¦æˆ°ï¼‰
Angular Login â†’ Spring /authenticate
JWT ç™»å…¥æµç¨‹å®Œæ•´å¯¦ä½œ
Todo CRUD å‰å¾Œç«¯å¯¦æˆ°
éŒ¯èª¤è™•ç†ï¼ˆ401 è‡ªå‹•å°å› Loginï¼‰
åªè¦ä½ å›æˆ‘ä¸€å¥ï¼š
ã€ŒAngular ç™»å…¥å¯¦æˆ°ã€
æˆ‘å€‘å°±ç›´æ¥å®Œæˆ çœŸæ­£å¯ç”¨çš„å…¨ç«¯ç³»çµ± ğŸ’ªğŸš€

_You will learn to connect REST API to JPA/Hibernate with Spring Boot
Connecting REST API to JPA / Hibernate with Spring Boot

ä½ æœƒå®Œæˆä¸€æ¢ å®Œæ•´è³‡æ–™æµï¼š

HTTP Request
 â†’ REST Controller
   â†’ Service
     â†’ JPA Repository
       â†’ Hibernate
         â†’ Database (H2 / MySQL)

1ï¸âƒ£ ç‚ºä»€éº¼è¦ JPA / Hibernateï¼Ÿ
âŒ æ²’ç”¨ JPA çš„ä¸–ç•Œ
æ‰‹å¯« SQL
ResultSet mapping
å¾ˆé›£ç¶­è­·
âœ… ç”¨ JPA
Java Object â‡„ Table
è‡ªå‹• CRUD
å¹¾ä¹ä¸å¯« SQL

ğŸ‘‰ Hibernate æ˜¯ JPA çš„å¯¦ä½œ
2ï¸âƒ£ Entityï¼ˆè³‡æ–™åº« â†” Java çš„æ©‹æ¨‘ï¼‰
ğŸ§± Todo Entityï¼ˆä½ å·²ç¶“æœ‰ ğŸ‘ï¼‰
@Entity
@Table(name = "todo")
public class Todo {

    @Id
    @GeneratedValue(strategy = GenerationType.SEQUENCE)
    private Long id;

    private String username;
    private String description;
    private LocalDate targetDate;
    private boolean isDone;

    // getter / setter
}

ğŸ“Œ é—œéµè¨»è§£ä¸€å®šè¦è¨˜ï¼š
@Entity
@Id
@GeneratedValue

3ï¸âƒ£ Repositoryï¼ˆDAO çš„ç¾ä»£ç‰ˆï¼‰
ğŸ§  åªè¦ä»‹é¢ï¼Œä¸ç”¨å¯¦ä½œ
public interface TodoRepository extends JpaRepository<Todo, Long> {

    List<Todo> findByUsername(String username);
}

ğŸ¯ é­”æ³•åœ¨é€™ï¼š

æ–¹æ³•åç¨± = SQL èªæ„

4ï¸âƒ£ Serviceï¼ˆå•†æ¥­é‚è¼¯å±¤ï¼Œä¸€å®šè¦æœ‰ï¼‰
âŒ ä¸å¥½çš„å¯«æ³•
Controller ç›´æ¥ call Repository

âœ… æ­£ç¢ºåˆ†å±¤
@Service
public class TodoService {

    private final TodoRepository repository;

    public TodoService(TodoRepository repository) {
        this.repository = repository;
    }

    public List<Todo> findByUsername(String username) {
        return repository.findByUsername(username);
    }

    public Todo save(Todo todo) {
        return repository.save(todo);
    }

    public void deleteById(Long id) {
        repository.deleteById(id);
    }
}

5ï¸âƒ£ REST Controllerï¼ˆæœ€å¾Œä¸€å“©è·¯ ğŸš€ï¼‰
@RestController
@RequestMapping("/api/users/{username}/todos")
public class TodoController {

    private final TodoService service;

    public TodoController(TodoService service) {
        this.service = service;
    }

    @GetMapping
    public List<Todo> retrieveTodos(@PathVariable String username) {
        return service.findByUsername(username);
    }

    @PostMapping
    public ResponseEntity<Todo> createTodo(
        @PathVariable String username,
        @RequestBody Todo todo) {

        todo.setUsername(username);
        Todo created = service.save(todo);

        URI location = ServletUriComponentsBuilder
            .fromCurrentRequest()
            .path("/{id}")
            .buildAndExpand(created.getId())
            .toUri();

        return ResponseEntity.created(location).body(created);
    }
}

6ï¸âƒ£ Hibernate è‡ªå‹•å»ºè¡¨ï¼ˆä½  Log å·²é©—è­‰æˆåŠŸï¼‰
ä½ å•Ÿå‹•æ™‚çœ‹åˆ°é€™æ®µ ğŸ‘‡

Hibernate: create table todo (
  is_done boolean not null,
  id bigint not null,
  ...
)


ä»£è¡¨ï¼š
Entity æ­£ç¢º
JPA æˆåŠŸé€£ DB
Hibernate æ­£åœ¨å¹«ä½ å»ºè¡¨

7ï¸âƒ£ application.propertiesï¼ˆè¶…é‡è¦ï¼‰
spring.datasource.url=jdbc:h2:mem:testdb
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.h2.console.enabled=true


æ‰“é–‹ï¼š

http://localhost:8080/h2-console

8ï¸âƒ£ å¸¸è¦‹é›·é»ï¼ˆå¹«ä½ å…ˆè¸©å®Œ ğŸ’£ï¼‰
âŒ Table æ²’ç”¢ç”Ÿ
ğŸ‘‰ Entity æ²’è¢«æƒæ
ğŸ‘‰ package ä¸åœ¨ @SpringBootApplication åº•ä¸‹

âŒ JSON å‚³ä¸é€²ä¾†
ğŸ‘‰ Entity æ²’ default constructor
ğŸ‘‰ å°‘ getter / setter

âŒ LazyInitializationException
ğŸ‘‰ ä¹‹å¾Œæ­é… @Transactional æˆ– DTOï¼ˆä¸‹ä¸€ç« ï¼‰

'''
data.sql

-- å…ˆæ¸…ç©º todo è³‡æ–™è¡¨
TRUNCATE TABLE todo;

-- æ’å…¥æ–°è³‡æ–™
INSERT INTO todo(id, username, description, target_date, done)
VALUES (10001, 'in28minutes', 'Learn JPA', CURRENT_DATE, FALSE);

INSERT INTO todo(id, username, description, target_date, done)
VALUES (10002, 'in28minutes', 'Learn Data JPA', CURRENT_DATE, FALSE);

INSERT INTO todo(id, username, description, target_date, done)
VALUES (10003, 'in28minutes', 'Learn Microservices', CURRENT_DATE, FALSE);




9ï¸âƒ£ å’Œ Angular ä¸²èµ·ä¾†ï¼ˆä½ å·²ç¶“ç«™åœ¨é–€å£äº†ï¼‰

Angular å‘¼å«ï¼š

this.http.get<Todo[]>(
  '/api/users/user/todos'
);


Springï¼š
Controller â†’ Service â†’ JPA â†’ DB â†’ JSON


ğŸ‰ é€™å°±æ˜¯å…¨ç«¯ CRUD
åœ¨å­¸ã€Œæ¥­ç•Œæ¨™æº– Spring Boot æ¶æ§‹ã€
è€Œä¸”ä½ é€™å¥—æ¶æ§‹ï¼š

âœ”ï¸ Security
âœ”ï¸ REST
âœ”ï¸ JPA
âœ”ï¸ Angular å¯æ¥

ğŸ”¥ ä¸‹ä¸€æ­¥ï¼ˆè¶…é—œéµï¼‰

æ¥ä¸‹ä¾†è‡ªç„¶å°±æ˜¯ï¼š

ğŸ‘‰ JWT + DB ä½¿ç”¨è€…
ğŸ‘‰ å®Œæ•´ Todo CRUDï¼ˆUpdate / Deleteï¼‰
ğŸ‘‰ Angular è¡¨å–® + Validation

_Step 02 - Quick Overview of Modern JavaScript and TypeScript
Quick Overview of Modern JavaScript & TypeScript
é€™ç« çš„é‡é»å…¶å¯¦å°±æ˜¯ï¼š
JS åŸºç¤ + ES6+ èªæ³•
TypeScript çš„æ ¸å¿ƒç‰¹æ€§
ç‚º Angular æ‰“åº•

1ï¸âƒ£ ç¾ä»£ JavaScriptï¼ˆES6+ï¼‰æ ¸å¿ƒæ¦‚å¿µ
1ï¸âƒ£ let / const
let name = 'Alice';  // å¯è®Š
const age = 30;       // ä¸å¯è®Š
2ï¸âƒ£ ç®­é ­å‡½å¼
const add = (a, b) => a + b;
3ï¸âƒ£ æ¨¡çµ„åŒ– import/export
// math.js
export const sum = (a, b) => a + b;
// app.js
import { sum } from './math.js';
4ï¸âƒ£ è§£æ§‹è³¦å€¼ï¼ˆDestructuringï¼‰
const person = {name: 'Alice', age: 30};
const {name, age} = person;

const arr = [1,2,3];
const [first, second] = arr;
5ï¸âƒ£ Template Literals
const name = 'Alice';
console.log(`Hello, ${name}!`);
6ï¸âƒ£ Promise / async-awaitï¼ˆéåŒæ­¥å¿…å‚™ï¼‰
// Promise
fetch('/api/todos')
  .then(res => res.json())
  .then(data => console.log(data));

// async-await
async function getTodos() {
  const res = await fetch('/api/todos');
  const data = await res.json();
  console.log(data);
}
2ï¸âƒ£ TypeScript æ ¸å¿ƒæ¦‚å¿µï¼ˆAngular å…¨é å®ƒï¼ï¼‰
1ï¸âƒ£ éœæ…‹å‹åˆ¥
let name: string = 'Alice';
let age: number = 30;
let isDone: boolean = false;
2ï¸âƒ£ ä»‹é¢ï¼ˆInterfaceï¼‰
interface Todo {
  id: number;
  description: string;
  isDone: boolean;
}

const todo: Todo = { id: 1, description: 'Learn TS', isDone: false };

3ï¸âƒ£ é¡åˆ¥ï¼ˆClassï¼‰
class Person {
  constructor(public name: string, public age: number) {}
  
  greet() {
    return `Hello, ${this.name}`;
  }
}

const alice = new Person('Alice', 30);
console.log(alice.greet());

4ï¸âƒ£ æ³›å‹ï¼ˆGenericï¼‰
function identity<T>(arg: T): T {
  return arg;
}

const num = identity<number>(42);
const str = identity<string>('Hello');

5ï¸âƒ£ Enum
enum Status {
  Pending,
  InProgress,
  Done
}

let s: Status = Status.Pending;

3ï¸âƒ£ ç‚º Angular æ‰“åº•
Angular å¹¾ä¹ç”¨åˆ°é€™äº›ç‰¹æ€§ï¼š
Class + Decorator â†’ Component / Service
Interface â†’ Model / DTO
Type â†’ HttpClient å›å‚³è³‡æ–™
Promise / Observable â†’ éåŒæ­¥è³‡æ–™æµ

ä¾‹å¦‚ä¸€å€‹ Todo Component çš„ TypeScriptï¼š

export interface Todo {
  id: number;
  description: string;
  isDone: boolean;
}

export class TodoComponent {
  todos: Todo[] = [];

  loadTodos() {
    this.todos = [{id: 1, description: 'Learn Angular', isDone: false}];
  }
}

ğŸ”¥ æ ¸å¿ƒæ¦‚å¿µè¨˜æ†¶æ³•

JS = èªæ³• + éåŒæ­¥æ€ç¶­
TS = å‹åˆ¥ + å®‰å…¨ + Angular å°ˆç”¨èªæ³•ç³–

å¦‚æœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥ç›´æ¥å¹«ä½ åšä¸€å€‹ Angular Todo App çš„ TS å¿«é€Ÿç¯„ä¾‹ï¼Œä¸€æ¬¡æŠŠï¼š
Interface
Component
Service
HttpClient
éƒ½ä¸²èµ·ä¾† ğŸ’ª

é€™æ¨£ä½ å­¸å®Œ JS/TSï¼ŒAngular å°±èƒ½ ç«‹åˆ»å¯¦æˆ°ã€‚
'''
ğŸ› ï¸ Angular Todo App å¿«é€Ÿç¯„ä¾‹ï¼ˆTS + REST APIï¼‰

å‡è¨­ä½ çš„å¾Œç«¯ Spring Boot å·²ç¶“è·‘åœ¨ http://localhost:8080/api/todos

1ï¸âƒ£ Todo Interfaceï¼ˆæ¨¡å‹å±¤ï¼‰

src/app/models/todo.model.ts

export interface Todo {
  id: number;
  description: string;
  isDone: boolean;
}


TypeScript çš„ Interface å°±æ˜¯ã€Œå‹åˆ¥ä¿è­·ã€ï¼ŒAngular HttpClient æœƒè‡ªå‹•å°æ‡‰ JSONã€‚

2ï¸âƒ£ Todo Serviceï¼ˆè² è²¬ API è«‹æ±‚ï¼‰

src/app/services/todo.service.ts

import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';
import { Todo } from '../models/todo.model';

@Injectable({
  providedIn: 'root'
})
export class TodoService {
  private apiUrl = 'http://localhost:8080/api/todos';

  constructor(private http: HttpClient) {}

  getTodos(): Observable<Todo[]> {
    return this.http.get<Todo[]>(this.apiUrl);
  }

  addTodo(todo: Todo): Observable<Todo> {
    return this.http.post<Todo>(this.apiUrl, todo);
  }

  deleteTodo(id: number): Observable<void> {
    return this.http.delete<void>(`${this.apiUrl}/${id}`);
  }
}


æ ¸å¿ƒé‡é»ï¼šObservable<T> è¡¨ç¤ºéåŒæ­¥è³‡æ–™æµï¼ŒAngular æœƒè¨‚é–±ï¼ˆsubscribeï¼‰æ‰æœƒæ”¶åˆ°è³‡æ–™ã€‚

3ï¸âƒ£ Todo Componentï¼ˆUI + é‚è¼¯ï¼‰

src/app/components/todo/todo.component.ts

import { Component, OnInit } from '@angular/core';
import { Todo } from '../../models/todo.model';
import { TodoService } from '../../services/todo.service';

@Component({
  selector: 'app-todo',
  templateUrl: './todo.component.html',
  styleUrls: ['./todo.component.css']
})
export class TodoComponent implements OnInit {
  todos: Todo[] = [];
  newTodoDesc: string = '';

  constructor(private todoService: TodoService) {}

  ngOnInit(): void {
    this.loadTodos();
  }

  loadTodos(): void {
    this.todoService.getTodos().subscribe({
      next: (data) => this.todos = data,
      error: (err) => console.error(err)
    });
  }

  addTodo(): void {
    if (!this.newTodoDesc.trim()) return;

    const newTodo: Todo = { id: 0, description: this.newTodoDesc, isDone: false };
    this.todoService.addTodo(newTodo).subscribe({
      next: (todo) => {
        this.todos.push(todo);
        this.newTodoDesc = '';
      },
      error: (err) => console.error(err)
    });
  }

  deleteTodo(id: number): void {
    this.todoService.deleteTodo(id).subscribe({
      next: () => this.todos = this.todos.filter(t => t.id !== id),
      error: (err) => console.error(err)
    });
  }
}

4ï¸âƒ£ Todo Component Templateï¼ˆHTMLï¼‰

src/app/components/todo/todo.component.html

<div class="todo-container">
  <h2>My Todos</h2>

  <input type="text" [(ngModel)]="newTodoDesc" placeholder="New todo">
  <button (click)="addTodo()">Add</button>

  <ul>
    <li *ngFor="let todo of todos">
      <span [class.done]="todo.isDone">{{ todo.description }}</span>
      <button (click)="deleteTodo(todo.id)">Delete</button>
    </li>
  </ul>
</div>


done class å¯ä»¥åœ¨ CSS æ¨£å¼ä¸­åŠ ä¸Šåˆªé™¤ç·šï¼š

.done {
  text-decoration: line-through;
}

5ï¸âƒ£ Module è¨˜å¾—åŒ¯å…¥ HttpClientModule & FormsModule

src/app/app.module.ts

import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { HttpClientModule } from '@angular/common/http';
import { FormsModule } from '@angular/forms';

import { AppComponent } from './app.component';
import { TodoComponent } from './components/todo/todo.component';

@NgModule({
  declarations: [AppComponent, TodoComponent],
  imports: [BrowserModule, HttpClientModule, FormsModule],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule {}

6ï¸âƒ£ æ ¸å¿ƒæ¦‚å¿µç¸½çµ

Interface â†’ å‹åˆ¥æª¢æŸ¥ï¼Œå°æ‡‰ JSON
Service â†’ è² è²¬æ‰€æœ‰ APIï¼ŒController â†’ Service â†’ HTTP å°æ‡‰
Component â†’ UI + é‚è¼¯
Observable + subscribe â†’ éåŒæ­¥è³‡æ–™æµ
åŒå‘ç¶å®š [(ngModel)] â†’ è¼¸å…¥æ¡†è‡ªå‹•æ›´æ–° TS è®Šæ•¸
HTTP è«‹æ±‚ â†’ Angular è‡ªå‹•è½‰ JSON <-> TS

é€™ä¸€å¥—æ¶æ§‹å°±æ˜¯ Angular å‰ç«¯ + RESTful API + TypeScript çš„æœ€å°å¯ç”¨æ¨¡æ¿ï¼Œå¾é€™å€‹åŸºç¤ï¼Œä½ å¯ä»¥ï¼š
åŠ  JWT èªè­‰
åŠ  Routing / Guards
åŠ  CRUD å®Œæ•´æµç¨‹
åŠ  è¡¨å–®é©—è­‰

_Step 03 - Installing Angular CLI - Awesome Tool to create Angular Projects
âš¡ Step 03 â€“ Installing Angular CLI
1ï¸âƒ£ Angular CLI æ˜¯ä»€éº¼ï¼Ÿ

ç°¡å–®èªªï¼š
Angular CLI = Angular çš„æ™ºæ…§æŒ‡ä»¤å·¥å…·ç®±

åŠŸèƒ½åŒ…å«ï¼š
å¿«é€Ÿç”Ÿæˆå°ˆæ¡ˆéª¨æ¶
è‡ªå‹•ç”Ÿæˆ Component / Module / Service / Pipe / Directive
å…§å»ºé–‹ç™¼ä¼ºæœå™¨ (ng serve)
è‡ªå‹•ç·¨è­¯ TypeScript + SCSS + HTML
å¹«ä½ æ‰“åŒ…æˆ production-ready æª”æ¡ˆ

ğŸ“Œ ä»¥å‰ä½ è¦æ‰‹å‹•å‰µå»ºå¾ˆå¤šæª”æ¡ˆï¼Œç¾åœ¨ CLI åªè¦ä¸€è¡ŒæŒ‡ä»¤æå®šï¼

2ï¸âƒ£ å®‰è£ Angular CLI
å‰ç½®æ¢ä»¶ï¼š
Node.js (å»ºè­° v18+)
npm (Node æœƒè‡ªå¸¶)

å®‰è£æŒ‡ä»¤ï¼š
npm install -g @angular/cli
-g è¡¨ç¤ºå…¨åŸŸå®‰è£ï¼Œå¯ä»¥åœ¨ä»»ä½•è³‡æ–™å¤¾ä½¿ç”¨ ng æŒ‡ä»¤

å®‰è£å®Œæˆå¾Œå¯ä»¥æª¢æŸ¥ç‰ˆæœ¬ï¼š
ng version
è¼¸å‡ºç¯„ä¾‹ï¼š
Angular CLI: 17.3.0
Node: 20.1.0
Package Manager: npm 10.2.0

3ï¸âƒ£ å»ºç«‹ä½ çš„ç¬¬ä¸€å€‹ Angular å°ˆæ¡ˆ
ng new my-todo-app

CLI æœƒå•ä½ å¹¾å€‹å•é¡Œï¼š
Would you like to add Angular routing? â†’ Yes
Which stylesheet format would you like to use? â†’ CSS / SCSS / SASS / LESSï¼ˆé¸ä½ å–œæ­¡ï¼‰

ç”Ÿæˆå®Œæˆå¾Œï¼š
cd my-todo-app
ng serve

é€™æ™‚å€™ä½ çš„ Angular å°ˆæ¡ˆå°±è·‘èµ·ä¾†äº†ï¼
æ‰“é–‹ç€è¦½å™¨ï¼šhttp://localhost:4200
 æœƒçœ‹åˆ° Angular æ­¡è¿ç•«é¢ ğŸ‰

4ï¸âƒ£ CLI å¸¸ç”¨æŒ‡ä»¤
æŒ‡ä»¤	åŠŸèƒ½
ng serve	å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼Œæ”¯æ´ç†±é‡è¼‰
ng build	æ‰“åŒ…å°ˆæ¡ˆæˆ production-ready
ng generate component my-component	è‡ªå‹•ç”Ÿæˆ Component
ng generate service my-service	è‡ªå‹•ç”Ÿæˆ Service
ng generate module my-module	è‡ªå‹•ç”Ÿæˆ Module
ng test	å–®å…ƒæ¸¬è©¦
ng lint	ç¨‹å¼ç¢¼æª¢æŸ¥
5ï¸âƒ£ CLI çš„å¥½è™•
âœ… å¿«é€Ÿç”Ÿæˆæª”æ¡ˆ â†’ ä¸ç”¨æ‰‹å‹•å¯« importsã€decorators
âœ… ä¸€éµå•Ÿå‹•å°ˆæ¡ˆ â†’ æ¸¬è©¦å³æ™‚å¯è¦‹
âœ… çµ±ä¸€æ¶æ§‹ â†’ æ‰€æœ‰ Angular å°ˆæ¡ˆçµæ§‹ä¸€è‡´
âœ… æ”¯æ´ TypeScript + ES6 â†’ ä½ å‰é¢å­¸çš„ JS/TS å¯ä»¥ç›´æ¥ç”¨

ğŸ’¡ Tipï¼šAngular CLI å°±åƒæ˜¯ä½ çš„ã€Œå…¨èƒ½åŠ©ç†ã€ï¼Œä¹‹å¾Œå­¸ Angular çš„æ¯ä¸€æ­¥éƒ½é›¢ä¸é–‹å®ƒï¼
ä¸‹ä¸€æ­¥ä½ å°±å¯ä»¥ï¼š
ç”¨ CLI ç”Ÿæˆ Todo Component
ä¸²æ¥ Service + HttpClient
é–‹å§‹è·Ÿ Spring Boot REST API é€£ç·š
å¦‚æœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥ç›´æ¥ç¤ºç¯„ï¼š
ç”¨ Angular CLI å¿«é€Ÿç”Ÿæˆ Todo App å°ˆæ¡ˆ + Component + Service çš„å®Œæ•´æµç¨‹
'''
ğŸ› ï¸ Angular Todo App å¿«é€Ÿæ­å»ºæµç¨‹ï¼ˆCLI å…¨ç¨‹ï¼‰
1ï¸âƒ£ å»ºç«‹å°ˆæ¡ˆ
ng new todo-app

CLI æœƒå•ï¼š
Would you like to add Angular routing? â†’ Yes
Which stylesheet format? â†’ é¸ CSSï¼ˆæˆ– SCSSï¼‰

ç”Ÿæˆå®Œæˆå¾Œï¼š
cd todo-app

2ï¸âƒ£ å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
ng serve


æ‰“é–‹ç€è¦½å™¨ï¼š

http://localhost:4200

ä½ æœƒçœ‹åˆ° Angular æ­¡è¿é é¢ ğŸ‰

ğŸ”¥ Tipï¼šng serve æ”¯æ´ç†±é‡è¼‰ï¼Œä¿®æ”¹ TS/HTML/CSS å³æ™‚æ›´æ–°é é¢ã€‚
3ï¸âƒ£ ç”Ÿæˆ Todo Component
ng generate component components/todo

Angular æœƒè‡ªå‹•ç”Ÿæˆï¼š

src/app/components/todo/
  todo.component.ts
  todo.component.html
  todo.component.css
  todo.component.spec.ts


âœ… CLI å¹«ä½ è‡ªå‹• import åˆ° AppModuleï¼Œçœå»æ‰‹å‹•è¨­å®š

4ï¸âƒ£ ç”Ÿæˆ Todo Service
ng generate service services/todo

CLI æœƒè‡ªå‹•ç”Ÿæˆï¼š

src/app/services/todo.service.ts

ä¸¦åŠ ä¸Š @Injectable({ providedIn: 'root' })ï¼Œè‡ªå‹•å¯æ³¨å…¥

5ï¸âƒ£ é…ç½® HttpClientModule

æ‰“é–‹ app.module.tsï¼š

import { HttpClientModule } from '@angular/common/http';
import { FormsModule } from '@angular/forms';

@NgModule({
  imports: [
    BrowserModule,
    HttpClientModule,  // <-- å¿…é ˆåŠ 
    FormsModule        // <-- é›™å‘ç¶å®š ngModel
  ],
})
export class AppModule {}

6ï¸âƒ£ ç”Ÿæˆ Todo Modelï¼ˆTypeScript Interfaceï¼‰
mkdir src/app/models

src/app/models/todo.model.tsï¼š

export interface Todo {
  id: number;
  description: string;
  isDone: boolean;
}

7ï¸âƒ£ Todo Serviceï¼ˆå‘¼å« Spring Boot APIï¼‰

src/app/services/todo.service.tsï¼š

import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';
import { Todo } from '../models/todo.model';

@Injectable({ providedIn: 'root' })
export class TodoService {
  private apiUrl = 'http://localhost:8080/api/todos';

  constructor(private http: HttpClient) {}

  getTodos(): Observable<Todo[]> {
    return this.http.get<Todo[]>(this.apiUrl);
  }

  addTodo(todo: Todo): Observable<Todo> {
    return this.http.post<Todo>(this.apiUrl, todo);
  }

  deleteTodo(id: number): Observable<void> {
    return this.http.delete<void>(`${this.apiUrl}/${id}`);
  }
}

8ï¸âƒ£ Todo Componentï¼ˆé¡¯ç¤º + æ–°å¢ + åˆªé™¤ï¼‰

todo.component.tsï¼š

import { Component, OnInit } from '@angular/core';
import { TodoService } from '../../services/todo.service';
import { Todo } from '../../models/todo.model';

@Component({
  selector: 'app-todo',
  templateUrl: './todo.component.html',
  styleUrls: ['./todo.component.css']
})
export class TodoComponent implements OnInit {
  todos: Todo[] = [];
  newTodoDesc: string = '';

  constructor(private todoService: TodoService) {}

  ngOnInit(): void {
    this.loadTodos();
  }

  loadTodos(): void {
    this.todoService.getTodos().subscribe(todos => this.todos = todos);
  }

  addTodo(): void {
    if (!this.newTodoDesc.trim()) return;
    const todo: Todo = { id: 0, description: this.newTodoDesc, isDone: false };
    this.todoService.addTodo(todo).subscribe(t => {
      this.todos.push(t);
      this.newTodoDesc = '';
    });
  }

  deleteTodo(id: number): void {
    this.todoService.deleteTodo(id).subscribe(() => {
      this.todos = this.todos.filter(t => t.id !== id);
    });
  }
}

9ï¸âƒ£ Todo Component Templateï¼ˆHTMLï¼‰

todo.component.htmlï¼š

<div class="todo-container">
  <h2>My Todos</h2>

  <input type="text" [(ngModel)]="newTodoDesc" placeholder="New todo">
  <button (click)="addTodo()">Add</button>

  <ul>
    <li *ngFor="let todo of todos">
      <span [class.done]="todo.isDone">{{ todo.description }}</span>
      <button (click)="deleteTodo(todo.id)">Delete</button>
    </li>
  </ul>
</div>


todo.component.cssï¼š

.done { text-decoration: line-through; }
.todo-container { max-width: 400px; margin: auto; }

10ï¸âƒ£ é¡¯ç¤º Component

app.component.htmlï¼š

<app-todo></app-todo>


ç„¶å¾Œé‡æ–°å•Ÿå‹• ng serveï¼Œæ‰“é–‹ï¼š

http://localhost:4200


ä½ å°±å¯ä»¥ï¼š

çœ‹åˆ° Spring Boot Todo åˆ—è¡¨
æ–°å¢ Todo
åˆªé™¤ Todo

ğŸ‰ Angular + Spring Boot å…¨ç«¯ä¸²æ¥å®Œæˆï¼

å¦‚æœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥å¹«ä½ åš ä¸‹ä¸€æ­¥é€²éšï¼š
åœ¨ Angular å‰ç«¯åŠ ä¸Š JWT ç™»å…¥èªè­‰ï¼Œå¯¦ç¾ ç™»å…¥å¾Œæ‰èƒ½æ“ä½œ Todo çš„å®Œæ•´æµç¨‹ï¼Œæ•´å€‹å°ˆæ¡ˆæ›´æ¥è¿‘æ¥­ç•Œå¯¦æˆ° ğŸ’ª
'''
å¤ªæ£’äº†ï¼ğŸ”¥
é‚£æˆ‘å€‘ç›´æ¥é€²å…¥ Angular å‰ç«¯ + Spring Boot JWT èªè­‰ Todo Appï¼Œå®Œæ•´æµç¨‹è®“ä½ åšåˆ° ç™»å…¥å¾Œæ‰èƒ½æ“ä½œ Todoï¼Œå¾å‰ç«¯ç™»å…¥ã€å–å¾— JWTï¼Œåˆ°å¾Œç«¯é©—è­‰ï¼Œæ•´å€‹å…¨ç«¯ä¸²æ¥å¯¦æˆ°ï¼ğŸš€

ğŸ› ï¸ Angular + Spring Boot JWT Todo App
1ï¸âƒ£ Spring Boot å¾Œç«¯è¨­å®š JWT
1ï¸âƒ£1 å»ºç«‹ä½¿ç”¨è€…æ¨¡å‹
@Entity
public class User {
    @Id
    private String username;
    private String password; // åŠ å¯†å­˜æ”¾ï¼ˆBCryptï¼‰
}

1ï¸âƒ£2 JWT å·¥å…·é¡
@Component
public class JwtUtil {
    private String secret = "mySecretKey";

    public String generateToken(String username) {
        return Jwts.builder()
                   .setSubject(username)
                   .setIssuedAt(new Date())
                   .setExpiration(new Date(System.currentTimeMillis() + 1000*60*60)) // 1å°æ™‚
                   .signWith(SignatureAlgorithm.HS256, secret)
                   .compact();
    }

    public String extractUsername(String token) {
        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody().getSubject();
    }
}

1ï¸âƒ£3 Security Config
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Autowired
    private JwtFilter jwtFilter;

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http.csrf().disable()
            .authorizeRequests()
            .antMatchers("/api/auth/**").permitAll()
            .anyRequest().authenticated()
            .and()
            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);

        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);
    }
}

1ï¸âƒ£4 ç™»å…¥ Controller
@RestController
@RequestMapping("/api/auth")
public class AuthController {

    @Autowired
    private AuthenticationManager authManager;

    @Autowired
    private JwtUtil jwtUtil;

    @PostMapping("/login")
    public ResponseEntity<?> login(@RequestBody AuthRequest request) {
        authManager.authenticate(new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword()));
        String token = jwtUtil.generateToken(request.getUsername());
        return ResponseEntity.ok(Map.of("token", token));
    }
}


å®Œæˆå¾Œç«¯ JWT èªè­‰ï¼Œæ‰€æœ‰ /api/todos/** çš„è«‹æ±‚éƒ½éœ€è¦å¸¶ Authorization: Bearer <token>ã€‚

2ï¸âƒ£ Angular å‰ç«¯è¨­å®š JWT
2ï¸âƒ£1 å®‰è£ä¾è³´
npm install @auth0/angular-jwt

2ï¸âƒ£2 å»ºç«‹ AuthService

auth.service.tsï¼š

import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

@Injectable({ providedIn: 'root' })
export class AuthService {
  private apiUrl = 'http://localhost:8080/api/auth';

  constructor(private http: HttpClient) {}

  login(username: string, password: string): Observable<{token: string}> {
    return this.http.post<{token: string}>(`${this.apiUrl}/login`, { username, password });
  }

  saveToken(token: string) { localStorage.setItem('jwt', token); }
  getToken(): string | null { return localStorage.getItem('jwt'); }
  logout() { localStorage.removeItem('jwt'); }
}

2ï¸âƒ£3 HTTP Interceptor è‡ªå‹•å¸¶ JWT

jwt.interceptor.tsï¼š

import { Injectable } from '@angular/core';
import { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';
import { Observable } from 'rxjs';
import { AuthService } from './auth.service';

@Injectable()
export class JwtInterceptor implements HttpInterceptor {
  constructor(private authService: AuthService) {}

  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {
    const token = this.authService.getToken();
    if (token) {
      req = req.clone({ setHeaders: { Authorization: `Bearer ${token}` } });
    }
    return next.handle(req);
  }
}


app.module.ts åŠ å…¥ï¼š

providers: [
  { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true }
]

2ï¸âƒ£4 Login Component

login.component.tsï¼š

import { Component } from '@angular/core';
import { AuthService } from '../../services/auth.service';
import { Router } from '@angular/router';

@Component({
  selector: 'app-login',
  templateUrl: './login.component.html'
})
export class LoginComponent {
  username = '';
  password = '';
  errorMsg = '';

  constructor(private authService: AuthService, private router: Router) {}

  login() {
    this.authService.login(this.username, this.password).subscribe({
      next: (res) => {
        this.authService.saveToken(res.token);
        this.router.navigate(['/todos']);
      },
      error: () => this.errorMsg = 'Login failed'
    });
  }
}


login.component.htmlï¼š

<div>
  <h2>Login</h2>
  <input placeholder="Username" [(ngModel)]="username">
  <input placeholder="Password" [(ngModel)]="password" type="password">
  <button (click)="login()">Login</button>
  <p *ngIf="errorMsg">{{ errorMsg }}</p>
</div>

2ï¸âƒ£5 Todo Component æ”¹ç”¨ JWT

ä¸éœ€è¦é¡å¤–æ”¹ TodoServiceï¼ŒInterceptor å·²ç¶“è‡ªå‹•å¸¶ Token

å¾Œç«¯æœƒé©—è­‰ JWTï¼Œè‡ªå‹•å…è¨±æˆ–æ‹’çµ•è«‹æ±‚

2ï¸âƒ£6 Routing Guard

ä¿è­· Todo é é¢ï¼š

import { Injectable } from '@angular/core';
import { CanActivate, Router } from '@angular/router';
import { AuthService } from './auth.service';

@Injectable({ providedIn: 'root' })
export class AuthGuard implements CanActivate {
  constructor(private authService: AuthService, private router: Router) {}

  canActivate(): boolean {
    if (this.authService.getToken()) return true;
    this.router.navigate(['/login']);
    return false;
  }
}


app-routing.module.tsï¼š

const routes: Routes = [
  { path: 'login', component: LoginComponent },
  { path: 'todos', component: TodoComponent, canActivate: [AuthGuard] },
  { path: '', redirectTo: '/login', pathMatch: 'full' }
];

âœ… æˆæœ

å‰ç«¯ç™»å…¥ï¼Œå–å¾— JWT
JWT è‡ªå‹•å¸¶å…¥æ‰€æœ‰ Todo API è«‹æ±‚
å¾Œç«¯é©—è­‰ JWTï¼Œåªæœ‰ç™»å…¥ç”¨æˆ¶èƒ½ CRUD Todo
Angular Routing Guard ä¿è­· Todo é é¢
å®Œæ•´å…¨ç«¯èªè­‰ + CRUD ç¯„ä¾‹å®Œæˆï¼
å¦‚æœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥å¹«ä½ æ•´ç†ä¸€ä»½ å®Œæ•´çš„ Angular å°ˆæ¡ˆçµæ§‹ + Spring Boot å°ˆæ¡ˆçµæ§‹åœ– + JWT æµç¨‹åœ–ï¼Œè®“ä½ ä¸€çœ¼å°±èƒ½çœ‹æ‡‚å…¨ç«¯æ¶æ§‹ ğŸ”¥
'''
å°ˆæ¡ˆçµæ§‹åœ–
1ï¸âƒ£ Spring Boot å¾Œç«¯ (restful-web-services/)
restful-web-services/
â”œâ”€ src/main/java/com/example/demo/
â”‚  â”œâ”€ controller/
â”‚  â”‚  â”œâ”€ AuthController.java        # ç™»å…¥
â”‚  â”‚  â””â”€ TodoController.java        # Todo CRUD API
â”‚  â”œâ”€ model/
â”‚  â”‚  â”œâ”€ Todo.java
â”‚  â”‚  â””â”€ User.java
â”‚  â”œâ”€ repository/
â”‚  â”‚  â”œâ”€ TodoRepository.java
â”‚  â”‚  â””â”€ UserRepository.java
â”‚  â”œâ”€ security/
â”‚  â”‚  â”œâ”€ JwtFilter.java
â”‚  â”‚  â”œâ”€ JwtUtil.java
â”‚  â”‚  â””â”€ SecurityConfig.java
â”‚  â””â”€ service/
â”‚     â”œâ”€ UserService.java
â”‚     â””â”€ TodoService.java
â”œâ”€ src/main/resources/
â”‚  â””â”€ application.properties       # DB, JWT secret è¨­å®š
â””â”€ pom.xml

2ï¸âƒ£ Angular å‰ç«¯ (todo-app/)
todo-app/
â”œâ”€ src/app/
â”‚  â”œâ”€ components/
â”‚  â”‚  â”œâ”€ login/
â”‚  â”‚  â”‚  â”œâ”€ login.component.ts
â”‚  â”‚  â”‚  â””â”€ login.component.html
â”‚  â”‚  â””â”€ todo/
â”‚  â”‚     â”œâ”€ todo.component.ts
â”‚  â”‚     â””â”€ todo.component.html
â”‚  â”œâ”€ services/
â”‚  â”‚  â”œâ”€ auth.service.ts            # ç™»å…¥ã€JWT å­˜å–
â”‚  â”‚  â””â”€ todo.service.ts            # Todo API å‘¼å«
â”‚  â”œâ”€ models/
â”‚  â”‚  â”œâ”€ todo.model.ts
â”‚  â”‚  â””â”€ user.model.ts
â”‚  â”œâ”€ app-routing.module.ts         # Routing + AuthGuard
â”‚  â”œâ”€ app.module.ts
â”‚  â””â”€ interceptors/
â”‚     â””â”€ jwt.interceptor.ts         # è‡ªå‹•å¸¶ JWT
â”œâ”€ angular.json
â””â”€ package.json

ğŸ”„ JWT æµç¨‹åœ–ï¼ˆå‰å¾Œç«¯ä¸²æ¥ï¼‰
[Angular LoginComponent] 
        |
        | POST /api/auth/login {username, password}
        v
[Spring Boot AuthController] 
        |
        | é©—è­‰å¸³è™Ÿå¯†ç¢¼ â†’ ç”¢ç”Ÿ JWT
        v
[Angular AuthService] 
        | saveToken() â†’ localStorage
        |
        v
[Angular TodoService] --- GET/POST/DELETE /api/todos --->
        |
        | HttpInterceptor è‡ªå‹•å¸¶ Authorization: Bearer <token>
        v
[Spring Boot TodoController] 
        | JwtFilter è§£æ Token â†’ é©—è­‰èº«ä»½
        v
      Todo CRUD æ“ä½œæˆåŠŸ

ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ

JWTï¼š

å‰ç«¯ç™»å…¥ â†’ å–å¾— Token â†’ ä¿å­˜ localStorage

æ‰€æœ‰ API è«‹æ±‚å¸¶ Authorization Header

å¾Œç«¯è§£æ Token â†’ é©—è­‰ç”¨æˆ¶èº«ä»½

Angular Routing Guardï¼š

ä¿è­· /todos é é¢

æœªç™»å…¥è‡ªå‹•å°å‘ /login

Interceptorï¼š

æ””æˆªæ¯å€‹ HTTP è«‹æ±‚ï¼Œè‡ªå‹•åŠ  JWT

æ¸›å°‘æ¯å€‹ Service éƒ½å¯« header

Component + Service åˆ†å±¤ï¼š

Component â†’ UI + ä½¿ç”¨è€…äº’å‹•

Service â†’ å°æ‡‰ REST APIï¼Œè™•ç†è³‡æ–™

Model â†’ TypeScript Interfaceï¼Œå‹åˆ¥æª¢æŸ¥

å‰å¾Œç«¯å…¨ç«¯ä¸²æ¥ï¼š

Angular è² è²¬ UI + èªè­‰æµç¨‹

Spring Boot è² è²¬ REST API + JWT é©—è­‰ + DB æ“ä½œ

Getting Hands on With Angular
_Step 08 - Introduction to Angular Components - Basics
Step 09 - Introduction to Angular Components - Playing with AppComponent
Step 10 - Generating Welcome Component with ng generate
Step 11 - Language Variations With an Example - Java, JavaScript and TypeScript
Step 12 - Generating and Setting up Login Component
Step 13 - Understanding Event Binding - Adding click event on Login Page
Step 14 - Using ngModel with 2 Way Data Binding in Login Page
Step 15 - Quick Review of Data Binding Approaches
Step 16 - Adding Hardcoded Authentication to Logic Component - ngIf directive
Step 17 - Implementing Routes for Login, Welcome and Error Components
Step 18 - Implementing Routing from Login to Welcome Component
Step 19 - Adding Route Parameter for Welcome Component
Step 20 - Create List Todos Component with ng generate
Step 21 - Create a Link to Todos in Welcome Component
Step 22 - Best Practice - Create a Todo Class
Step 23 - Quick Introduction to Angular Modules
Step 24 - Understanding Bootstrapping of Angular App with Root Module and Component
Step 25 - Quick Review - Angular Modules and Components
Step 26 - Overview of Next Few Steps - Bootstrap, Menu, Footer and Refactoring
Step 27 - Adding Bootstrap Framework and Creating Components for Menu and Footer
Step 28 - Using Bootstrap to Create a Menu with Navigation Links
Step 29 - Styling Footer and Other Components with CSS and Bootstrap
Step 30 - Good Practice - Use RouterLink instead of href for Routes
Step 31 - Creating an Independent Authentication Service Component
Step 32 - Using Session Storage to Store User Authentication Token
Step 33 - Enabling Menu Links Based on User Authentication Token
Step 34 - Implementing Logout to remove User Authentication Token
Step 35 - Securing Components using Route Guards - Part 1
Step 36 - Securing Components using Route Guards - Part 2
Step 37 - Quick Review - Authentication Service, Dependency Injection and Route Guards

_Step 08 - Introduction to Angular Components - Basics
ğŸ›  Step 08 - Angular Components Basics
1ï¸âƒ£ Component æ˜¯ä»€éº¼ï¼Ÿ

Angular Component æ˜¯ä¸€å€‹ UI å…ƒä»¶ + é‚è¼¯ çš„çµ„åˆï¼ŒåŒ…å«ä¸‰å€‹ä¸»è¦éƒ¨åˆ†ï¼š

TypeScript é¡åˆ¥ (Class)
æ§åˆ¶çµ„ä»¶çš„é‚è¼¯èˆ‡è³‡æ–™

HTML æ¨¡æ¿ (Template)
å®šç¾© UI çµæ§‹

CSS / SCSS æ¨£å¼ (Style)
ç¾åŒ–è©²çµ„ä»¶

æ¯å€‹ Component éƒ½æ˜¯ä¸€å€‹å°å‹è‡ªåŒ…å«å–®å…ƒï¼Œå¯ä»¥é‡è¤‡ä½¿ç”¨ã€‚

2ï¸âƒ£ AppComponent ç¯„ä¾‹ï¼ˆé è¨­ï¼‰

ç•¶ä½ ç”¨ ng new å»ºç«‹å°ˆæ¡ˆæ™‚ï¼ŒAngular æœƒè‡ªå‹•ç”Ÿæˆ AppComponentï¼š

// src/app/app.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'app-root',          // HTML æ¨™ç±¤åç¨±
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'My First Angular App';
}


HTML æ¨¡æ¿ï¼š

<h1>Welcome to {{ title }}!</h1>
<p>This is a basic Angular component.</p>


CSSï¼š

h1 { color: teal; }
p { font-style: italic; }

3ï¸âƒ£ ä½¿ç”¨ Component

åœ¨ index.html ä¸­ï¼ŒAngular æœƒè‡ªå‹•è¼‰å…¥ <app-root></app-root>ï¼Œé€™å€‹æ¨™ç±¤å°±æ˜¯ AppComponent çš„å…¥å£ã€‚

<body>
  <app-root></app-root>
</body>


ç•¶ä½  ng serveï¼Œç€è¦½å™¨å°±æœƒæ¸²æŸ“ï¼š

Welcome to My First Angular App!
This is a basic Angular component.

4ï¸âƒ£ Key Points
æ¯å€‹ Component éƒ½æœ‰ selector â†’ ç”¨ HTML æ¨™ç±¤åµŒå…¥
Class æ§åˆ¶é‚è¼¯ï¼Œtemplate æ§åˆ¶ç•«é¢
Component æ˜¯ Angular çš„æ ¸å¿ƒï¼Œæ‰€æœ‰ UI éƒ½ç”± Component çµ„æˆ
å¯ä»¥é€é Interpolation ({{ }}) é¡¯ç¤ºè®Šæ•¸

å¦‚æœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥ç›´æ¥å¹«ä½ ç¤ºç¯„ å¦‚ä½•ç”¨ Angular CLI ç”Ÿæˆä¸€å€‹æ–°çš„ Componentï¼Œä¸¦è®“å®ƒè·Ÿ AppComponent ä¸€èµ·é¡¯ç¤ºï¼Œå°±åƒç© Lego ä¸€æ¨£çµ„åˆ UI ğŸš€
'''
