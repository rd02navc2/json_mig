# ===================================
# 生產環境配置 (application-prod.properties)
# 啟用方式: spring.profiles.active=prod
# ===================================

# 伺服器設定
server.port=8080

# 範本檔案路徑 (打包在 JAR 內)
mig.template.path=template/
mig.template.default-file=MyMapping.java

# 輸出目錄 (生產環境使用固定路徑)
# Linux/Unix
mig.output.dir=/var/app/mig/output
# Windows Server 可改為: C:/app/mig/output

# 備份目錄
mig.backup.dir=/var/app/mig/backup
mig.backup.retention-days=30

# Thymeleaf (生產環境啟用快取)
spring.thymeleaf.cache=true

# 日誌層級 (生產環境使用 WARN)
logging.level.root=WARN
logging.level.com.example.demo=INFO
logging.level.org.springframework.web=WARN

# 日誌檔案 (生產環境)
logging.file.name=/var/log/mig/mig-system.log
logging.file.max-size=50MB
logging.file.max-history=90

# 開發工具 (生產環境關閉)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# 錯誤訊息 (生產環境不顯示詳細資訊)
server.error.include-stacktrace=never
server.error.include-exception=false
server.error.include-message=always

# 安全性相關
server.error.whitelabel.enabled=false

# ===============================
# Derby 資料庫連線設定
# ===============================
spring.datasource.url=jdbc:derby://localhost:1527/custom;create=true
spring.datasource.username=mu
spring.datasource.password=mu
spring.datasource.driver-class-name=org.apache.derby.jdbc.ClientDriver


# ===============================
# JPA / Hibernate 設定
# ===============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.DerbyDialect
spring.jpa.database-platform=org.hibernate.dialect.DerbyTenSevenDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true


# Schema 通常與使用者名稱相同
spring.jpa.properties.hibernate.default_schema=mu

#logging.file.name=logs/app.log
logging.file.name=logs/console.log

# 檔案上傳配置
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# Thymeleaf 配置
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.mode=HTML


template.resource.path=classpath:template/
template.target.dirname=template
template.validate-on-startup=true
mig.resource.path=classpath:mig/
data.item.description.output.path=${java.io.tmpdir}/output/
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=200MB
spring.web.resources.add-mappings=true
spring.web.resources.static-locations=classpath:/static/,classpath:/public/


# 編碼配置
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

